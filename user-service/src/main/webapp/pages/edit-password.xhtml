<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">
      
<ui:composition template="/templates/layout-full.xhtml">
    <ui:define name="content">
        <h:form id="editForm">
        	<p:messages id="messages" />
        	<p:message for="oldPassword" />
        	<p:message for="password" />
        	<p:message for="passwordConfirm" />
        	
            <p:panel header="Password Details">
                <p:panelGrid columns="2">
                
                    <p:outputLabel for="oldPassword" value="Old Password: "/>
                   	<h:panelGroup>
	                    <p:password id="oldPassword" value="#{userController.passwordRequest.oldPassword}" required="true" 
	                    	requiredMessage="You need inform a old password!" maxlength="30" size="20" redisplay="false">
	                    </p:password>
                	</h:panelGroup>
                	                	
                    <p:outputLabel for="password" value="Password: " />
                	 <h:panelGroup>
	                    <p:password id="password" value="#{userController.passwordRequest.newPassword}" required="true" match="passwordConfirm"
	                    	requiredMessage="You need to inform an password!" validatorMessage="The password does not match or is too short" maxlength="30" size="20" redisplay="false">
	                    	<f:validateLength minimum="6" maximum="30" />
	                    </p:password>
                	</h:panelGroup>
                	
                    <p:outputLabel for="passwordConfirm" value="Password Confirm: " />
                	<h:panelGroup>
	                    <p:password id="passwordConfirm" value="#{userController.passwordRequest.newPasswordConfirm}" required="true" 
	                    	requiredMessage="You need to confirm password!" validatorMessage="The password does not match" maxlength="30" size="20" redisplay="false">
	                    	<f:validateLength minimum="6" maximum="30" />
	                    </p:password>
                	</h:panelGroup>
                    <p:commandButton value="Submit" action="#{userController.checkPassword()}" update="messages"/>
                </p:panelGrid>
            </p:panel>
        </h:form>
    </ui:define>
</ui:composition>
</html>